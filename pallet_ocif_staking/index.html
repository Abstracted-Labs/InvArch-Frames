<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="OCIF Staking pallet"><title>pallet_ocif_staking - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="pallet_ocif_staking" data-themes="" data-resource-suffix="" data-rustdoc-version="1.81.0-nightly (d9284afea 2024-07-14)" data-channel="nightly" data-search-js="search-d234aafac6c221dd.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../pallet_ocif_staking/index.html">pallet_ocif_staking</a><span class="version">0.1.0-dev</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#constants">Constants</a></li><li><a href="#types">Type Aliases</a></li></ul></section></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">pallet_ocif_staking</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../src/pallet_ocif_staking/lib.rs.html#1-1386">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="ocif-staking-pallet"><a class="doc-anchor" href="#ocif-staking-pallet">Â§</a>OCIF Staking pallet</h2>
<p>A pallet for allowing INV-Cores to be staked towards.</p>
<h3 id="overview"><a class="doc-anchor" href="#overview">Â§</a>Overview</h3>
<p>This pallet provides functionality to allow 2 sets of entities to participate in distribution of tokens
available in a predefined pot account.
The tokens provided to the pot account are to be handled by the Runtime,
either directly or with the assistance of another pallet.</p>
<p>The 2 entity sets will be referred to in code as Cores and Stakers:</p>
<h4 id="cores"><a class="doc-anchor" href="#cores">Â§</a>Cores</h4>
<p>Cores are virtual accounts that have an ID used to derive their own account address,
their task in the process is to register themselves and have Stakers lock tokens in favor of a specifc Core.
Cores receive their fraction of the pot rewards based on the total amount staked towards them by Stakers,
however, a Core must have total stake above the defined threshold (making it <code>active</code>), otherwise they wonâ€™t be entitled to rewards.</p>
<h4 id="stakers"><a class="doc-anchor" href="#stakers">Â§</a>Stakers</h4>
<p>Stakers are any account existing on the chain, their task is to lock tokens in favor of a Core.
Unlike Cores, Stakers get their fraction of the rewards based on their own stake and regardless of
the <code>active</code> state of the Core they staked towards.</p>
<h3 id="relevant-runtime-configs"><a class="doc-anchor" href="#relevant-runtime-configs">Â§</a>Relevant runtime configs</h3>
<ul>
<li><code>BlocksPerEra</code> - Defines how many blocks constitute an era.</li>
<li><code>RegisterDeposit</code> - Defines the deposit amount for a Core to register in the system.</li>
<li><code>MaxStakersPerCore</code> - Defines the maximum amount of Stakers allowed staking simultaneously towards the same Core.</li>
<li><code>MinimumStakingAmount</code> - Defines the minimum amount a Staker has to stake to participate.</li>
<li><code>UnbondingPeriod</code> - Defines the period, in eras, that it takes to unbond a stake.</li>
<li><code>RewardRatio</code> - Defines the ratio of balance from the pot to distribute to Cores and Stakers, respectively.</li>
<li><code>StakeThresholdForActiveCore</code> - Defines the threshold of stake a Core needs to surpass to become active.</li>
</ul>
<p><strong>Example Runtime implementation can be found in <a href="./src/testing/mock.rs">src/testing/mock.rs</a></strong></p>
<h3 id="dispatchable-functions"><a class="doc-anchor" href="#dispatchable-functions">Â§</a>Dispatchable Functions</h3>
<ul>
<li><code>register_core</code> - Registers a Core in the system.</li>
<li><code>unregister_core</code> - Unregisters a Core from the system, starting the unbonding period for the Stakers.</li>
<li><code>change_core_metadata</code> - Changes the metadata tied to a Core.</li>
<li><code>stake</code> - Stakes tokens towards a Core.</li>
<li><code>unstake</code> - Unstakes tokens from a core and starts the unbonding period for those tokens.</li>
<li><code>withdraw_unstaked</code> - Withdraws tokens that have already been through the unbonding period.</li>
<li><code>staker_claim_rewards</code> - Claims rewards available for a Staker.</li>
<li><code>core_claim_rewards</code> - Claims rewards available for a Core.</li>
<li><code>halt_unhalt_pallet</code> - Allows Root to trigger a halt of the system, eras will stop counting and rewards wonâ€™t be distributed.</li>
</ul>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.WeightInfo"><code>pub use weights::<a class="trait" href="weights/trait.WeightInfo.html" title="trait pallet_ocif_staking::weights::WeightInfo">WeightInfo</a>;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="pallet/index.html" title="mod pallet_ocif_staking::pallet">pallet</a>::*;</code></div></li></ul><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="pallet/index.html" title="mod pallet_ocif_staking::pallet">pallet</a></div><div class="desc docblock-short">The <code>pallet</code> module in each FRAME pallet hosts the most important items needed
to construct this pallet.</div></li><li><div class="item-name"><a class="mod" href="primitives/index.html" title="mod pallet_ocif_staking::primitives">primitives</a></div><div class="desc docblock-short">Provides supporting types and traits for the staking pallet.</div></li><li><div class="item-name"><a class="mod" href="weights/index.html" title="mod pallet_ocif_staking::weights">weights</a></div><div class="desc docblock-short">Autogenerated weights for <code>pallet_ocif_staking</code></div></li></ul><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.LOCK_ID.html" title="constant pallet_ocif_staking::LOCK_ID">LOCK_ID</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Staking lock identifier.</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.MessageOriginOf.html" title="type pallet_ocif_staking::MessageOriginOf">MessageOriginOf</a></div></li></ul></section></div></main></body></html>